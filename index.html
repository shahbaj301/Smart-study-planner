<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Smart Study Planner - Boost productivity and manage study time effectively with task tracking, reminders, and analytics." />
  <meta name="keywords" content="study planner, task management, productivity, student planner" />
  <title>Smart Study Planner - Boost Your Productivity</title>
  
  <!-- Preload critical resources -->
  <link rel="preload" href="styles.css" as="style" />
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" as="style" />
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet" />
  
  <!-- Load Chart.js conditionally -->
  <script>
    // Lazy load Chart.js only when needed
    window.loadChartJS = function() {
      if (!window.Chart && !document.querySelector('script[src*="chart.js"]')) {
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
        script.onload = () => window.initChart && window.initChart();
        document.head.appendChild(script);
      }
    };
  </script>
  <script defer src="app.js"></script>
</head>
<body>
  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="loading-spinner" aria-hidden="true">
    <div class="spinner"></div>
    <p>Loading Smart Study Planner...</p>
  </div>

  <!-- NAVBAR -->
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="nav-logo" onclick="navigateTo('home')" tabindex="0" role="button" aria-label="Go to home">
      <span class="logo-icon">📚</span>
      Smart Study Planner
    </div>
    <div class="nav-links">
      <a href="#home" onclick="navigateTo('home')" aria-label="Home page">
        <span class="nav-icon">🏠</span>Home
      </a>
      <a href="#about" onclick="navigateTo('about')" aria-label="About page">
        <span class="nav-icon">ℹ️</span>About
      </a>
      <a href="#dashboard" onclick="navigateTo('dashboard')" aria-label="Dashboard">
        <span class="nav-icon">📊</span>Dashboard
      </a>
      <a href="#profile" onclick="navigateTo('profile')" aria-label="Profile settings">
        <span class="nav-icon">👤</span>Profile
      </a>
    </div>
    <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </nav>

  <!-- MAIN SECTIONS -->
  <main id="mainContent">
    <!-- Home Section -->
    <section id="home" class="main-section active" role="main">
      <header class="hero">
        <h1 class="hero-title">
          <span class="title-line">Boost Your Productivity &</span>
          <span class="title-line highlight">Manage Study Time Effectively</span>
        </h1>
        <p class="hero-subtitle">
          Struggling with study deadlines? Smart Study Planner helps you organize, track, and complete your tasks with ease.
        </p>
        <button class="btn-primary btn-cta" onclick="navigateTo('dashboard')" aria-label="Get started with dashboard">
          <span class="btn-text">Get Started</span>
          <span class="btn-icon">→</span>
        </button>
        
        <!-- Floating Elements -->
        <div class="floating-elements" aria-hidden="true">
          <div class="floating-element" style="--delay: 0s">📝</div>
          <div class="floating-element" style="--delay: 2s">⏰</div>
          <div class="floating-element" style="--delay: 4s">📚</div>
        </div>
      </header>

      <section class="features-section">
        <h2 class="section-title">Why Choose Smart Study Planner?</h2>
        <div class="features-grid">
          <div class="feature-card" tabindex="0">
            <div class="feature-icon-wrapper">
              <div class="feature-icon">⏰</div>
            </div>
            <h3>Smart Reminders</h3>
            <p>Never miss a deadline with intelligent notifications and alerts.</p>
            <div class="feature-overlay"></div>
          </div>
          <div class="feature-card" tabindex="0">
            <div class="feature-icon-wrapper">
              <div class="feature-icon">📅</div>
            </div>
            <h3>Visual Timeline</h3>
            <p>See your tasks in beautiful calendar views and progress bars.</p>
            <div class="feature-overlay"></div>
          </div>
          <div class="feature-card" tabindex="0">
            <div class="feature-icon-wrapper">
              <div class="feature-icon">📊</div>
            </div>
            <h3>Task Analytics</h3>
            <p>Track your productivity with detailed insights and reports.</p>
            <div class="feature-overlay"></div>
          </div>
          <div class="feature-card" tabindex="0">
            <div class="feature-icon-wrapper">
              <div class="feature-icon">💾</div>
            </div>
            <h3>Offline Support</h3>
            <p>All your data is securely saved locally in your browser.</p>
            <div class="feature-overlay"></div>
          </div>
        </div>
      </section>
    </section>

    <!-- About Section -->
    <section id="about" class="main-section">
      <div class="content-wrapper">
        <h2 class="section-title">About Smart Study Planner</h2>
        <div class="about-content">
          <p class="lead">
            Students often face challenges organizing their study schedules and meeting deadlines. 
            Our Smart Study Planner was designed to address these exact pain points.
          </p>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-number" data-count="10000">0</div>
              <div class="stat-label">Tasks Completed</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-count="95">0</div>
              <div class="stat-label">% Success Rate</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-count="1000">0</div>
              <div class="stat-label">Happy Users</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="main-section">
      <div class="dashboard-header">
        <h2 class="section-title">Your Study Tasks</h2>
        <div class="dashboard-controls">
          <div class="search-wrapper">
            <input type="text" id="taskSearch" placeholder="Search tasks..." aria-label="Search tasks" />
            <span class="search-icon">🔍</span>
          </div>
          <select id="taskFilter" aria-label="Filter tasks">
            <option value="all">All Tasks</option>
            <option value="pending">Pending</option>
            <option value="completed">Completed</option>
            <option value="high">High Priority</option>
            <option value="medium">Medium Priority</option>
            <option value="low">Low Priority</option>
          </select>
        </div>
      </div>

      <form id="taskForm" class="task-form" novalidate>
        <div class="form-group">
          <input type="text" id="taskInput" placeholder="Enter your study task..." required aria-label="Task description" />
          <div class="form-error" id="taskInputError"></div>
        </div>
        <div class="form-group">
          <input type="date" id="dueDateInput" required aria-label="Due date" />
          <div class="form-error" id="dueDateError"></div>
        </div>
        <div class="form-group">
          <select id="prioritySelect" required aria-label="Task priority">
            <option value="" disabled selected>Select Priority</option>
            <option value="high">🔴 High Priority</option>
            <option value="medium">🟡 Medium Priority</option>
            <option value="low">🟢 Low Priority</option>
          </select>
          <div class="form-error" id="priorityError"></div>
        </div>
        <div class="form-group">
          <select id="categorySelect" aria-label="Task category">
            <option value="">Select Category</option>
            <option value="study">📚 Study</option>
            <option value="assignment">📝 Assignment</option>
            <option value="exam">🎯 Exam</option>
            <option value="project">💼 Project</option>
            <option value="reading">📖 Reading</option>
          </select>
        </div>
        <button type="submit" class="btn-primary btn-add-task">
          <span class="btn-text">Add Task</span>
          <span class="btn-icon">+</span>
        </button>
      </form>

      <!-- Task Statistics -->
      <div class="task-stats">
        <div class="stat-card">
          <div class="stat-icon">📋</div>
          <div class="stat-info">
            <div class="stat-value" id="totalTasks">0</div>
            <div class="stat-label">Total Tasks</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">✅</div>
          <div class="stat-info">
            <div class="stat-value" id="completedTasks">0</div>
            <div class="stat-label">Completed</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">⏳</div>
          <div class="stat-info">
            <div class="stat-value" id="pendingTasks">0</div>
            <div class="stat-label">Pending</div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">📈</div>
          <div class="stat-info">
            <div class="stat-value" id="productivityScore">0%</div>
            <div class="stat-label">Completion Rate</div>
          </div>
        </div>
      </div>

      <!-- Productivity Chart -->
      <div class="chart-section">
        <h3>Productivity Analytics</h3>
        <div class="chart-container">
          <canvas id="productivityChart" aria-label="Productivity chart showing task completion statistics"></canvas>
        </div>
      </div>

      <!-- Tasks Container -->
      <div class="tasks-wrapper">
        <div class="bulk-actions" id="bulkActions" style="display: none;">
          <button class="btn-secondary" onclick="bulkComplete()">Mark Selected Complete</button>
          <button class="btn-danger" onclick="bulkDelete()">Delete Selected</button>
          <button class="btn-secondary" onclick="clearSelection()">Clear Selection</button>
        </div>
        <div id="tasksContainer" class="tasks-container" role="list" aria-label="Task list">
          <!-- Tasks will be dynamically inserted here -->
        </div>
      </div>
    </section>

    <!-- Profile Section -->
    <section id="profile" class="main-section">
      <div class="profile-wrapper">
        <h2 class="section-title">Your Profile</h2>
        <div class="profile-content">
          <div class="profile-section">
            <div class="profile-card">
              <div class="profile-avatar-section">
                <div id="profilePreview" class="profile-avatar"></div>
                <button class="avatar-change-btn" onclick="document.getElementById('avatarSelect').focus()">
                  Change Avatar
                </button>
              </div>
              
              <div class="profile-form">
                <div class="form-group">
                  <label for="profileName">Display Name</label>
                  <input type="text" id="profileName" placeholder="Enter your name" maxlength="50" />
                </div>
                
                <div class="form-group">
                  <label for="avatarSelect">Choose Avatar</label>
                  <select id="avatarSelect">
                    <option value="👩‍🎓">👩‍🎓 Female Student</option>
                    <option value="👨‍🎓">👨‍🎓 Male Student</option>
                    <option value="📚">📚 Books</option>
                    <option value="📝">📝 Notes</option>
                    <option value="🎯">🎯 Target</option>
                    <option value="⭐">⭐ Star</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>Theme Preference</label>
                  <div class="theme-toggle-wrapper">
                    <button id="toggleThemeBtn" class="theme-toggle" aria-label="Toggle dark/light theme">
                      <span class="theme-icon sun">☀️</span>
                      <span class="theme-icon moon">🌙</span>
                      <div class="theme-slider"></div>
                    </button>
                    <span class="theme-label">Dark Mode</span>
                  </div>
                </div>

                <div class="form-group">
                  <label>Data Management</label>
                  <div class="data-controls">
                    <button class="btn-secondary" onclick="exportData()">
                      <span class="btn-icon">📤</span>
                      Export Data
                    </button>
                    <button class="btn-secondary" onclick="document.getElementById('importFile').click()">
                      <span class="btn-icon">📥</span>
                      Import Data
                    </button>
                    <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)" />
                  </div>
                </div>
              </div>
            </div>

            <!-- Achievement System -->
            <div class="achievements-section">
              <h3>Your Achievements</h3>
              <div class="achievements-grid" id="achievementsGrid">
                <!-- Achievements will be dynamically generated -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer role="contentinfo">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Smart Study Planner</h4>
        <p>Boost your productivity and achieve your study goals.</p>
      </div>
      <div class="footer-section">
        <h4>Features</h4>
        <ul>
          <li>Task Management</li>
          <li>Progress Tracking</li>
          <li>Smart Reminders</li>
          <li>Analytics</li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Support</h4>
        <ul>
          <li><a href="#" onclick="showModal('help')">Help Center</a></li>
          <li><a href="#" onclick="showModal('privacy')">Privacy Policy</a></li>
          <li><a href="#" onclick="showModal('terms')">Terms of Service</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Smart Study Planner. All rights reserved.</p>
      <div class="social-links">
        <a href="#" aria-label="Twitter"><span role="img" aria-label="Twitter">🐦</span></a>
        <a href="#" aria-label="GitHub"><span role="img" aria-label="GitHub">🐙</span></a>
        <a href="#" aria-label="LinkedIn"><span role="img" aria-label="LinkedIn">💼</span></a>
      </div>
    </div>
  </footer>

  <!-- Modals -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()" aria-label="Close modal">&times;</button>
      <div id="modalBody"></div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer" class="toast-container" aria-live="polite"></div>

  <!-- PWA Install Prompt -->
  <div id="installPrompt" class="install-prompt" style="display: none;">
    <div class="install-content">
      <span class="install-icon">📱</span>
      <div class="install-text">
        <strong>Install Smart Study Planner</strong>
        <p>Get quick access from your home screen</p>
      </div>
      <button class="btn-primary btn-install" onclick="installPWA()">Install</button>
      <button class="btn-text" onclick="dismissInstall()">Maybe Later</button>
    </div>
  </div>
</body>
</html>
